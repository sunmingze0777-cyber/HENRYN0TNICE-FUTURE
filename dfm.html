<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YMC DFM æ™ºèƒ½å®¡æŸ¥ç³»ç»Ÿ</title>
    <style>
        :root { --bg: #1e293b; --card: #334155; --text: #f1f5f9; --red: #ef4444; --green: #10b981; --yellow: #f59e0b; }
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background-color: var(--bg); color: var(--text); padding: 20px; max-width: 900px; margin: 0 auto; }
        
        .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #475569; padding-bottom: 20px; }
        .title { font-size: 24px; font-weight: bold; color: #38bdf8; }
        .subtitle { color: #94a3b8; font-size: 14px; margin-top: 5px; }

        /* è¯„åˆ†å¤§ç›˜ */
        .score-board { background: var(--card); border-radius: 12px; padding: 20px; text-align: center; margin-bottom: 30px; border: 1px solid #475569; display: flex; align-items: center; justify-content: space-around; }
        .score-val { font-size: 48px; font-weight: bold; transition: color 0.3s; }
        .score-label { font-size: 14px; color: #94a3b8; }
        .status-badge { padding: 8px 16px; border-radius: 20px; font-weight: bold; font-size: 18px; }

        /* æ£€æŸ¥é¡¹åˆ—è¡¨ */
        .checklist-group { margin-bottom: 25px; }
        .group-title { font-size: 18px; color: #38bdf8; margin-bottom: 15px; display: flex; align-items: center; gap: 10px; }
        .group-title::before { content: ''; display: block; width: 4px; height: 18px; background: #38bdf8; }

        .check-item { background: #0f172a; padding: 15px; border-radius: 8px; margin-bottom: 10px; display: flex; align-items: center; justify-content: space-between; border: 1px solid #334155; transition: all 0.2s; cursor: pointer; }
        .check-item:hover { border-color: #64748b; }
        .check-left { display: flex; align-items: center; gap: 15px; flex: 1; }
        
        /* å¤é€‰æ¡†æ ·å¼ */
        .custom-checkbox { width: 24px; height: 24px; border: 2px solid #64748b; border-radius: 4px; display: flex; align-items: center; justify-content: center; transition: all 0.2s; flex-shrink: 0; }
        .check-item.checked .custom-checkbox { background: var(--green); border-color: var(--green); }
        .check-item.checked .custom-checkbox::after { content: 'âœ“'; color: white; font-weight: bold; }
        
        /* è‡´å‘½é¡¹æ ‡è®° */
        .fatal-tag { font-size: 10px; background: #7f1d1d; color: #fca5a5; padding: 2px 6px; border-radius: 4px; border: 1px solid #ef4444; margin-left: 10px; }
        
        .item-desc { font-size: 15px; color: #e2e8f0; }
        .item-sub { font-size: 12px; color: #94a3b8; margin-top: 2px; }

        /* åº•éƒ¨æŒ‰é’® */
        .footer { margin-top: 40px; text-align: center; }
        .btn { background: #38bdf8; color: #0f172a; border: none; padding: 15px 40px; font-size: 18px; font-weight: bold; border-radius: 8px; cursor: pointer; opacity: 0.5; pointer-events: none; transition: all 0.3s; }
        .btn.active { opacity: 1; pointer-events: all; }
        .btn.active:hover { transform: translateY(-2px); box-shadow: 0 5px 15px rgba(56, 189, 248, 0.3); }

        /* çŠ¶æ€é¢œè‰²ç±» */
        .risk-high { color: var(--red); }
        .risk-mid { color: var(--yellow); }
        .risk-low { color: var(--green); }
        
        .bg-high { background: #450a0a; color: #fca5a5; border: 1px solid #ef4444; }
        .bg-mid { background: #451a03; color: #fdba74; border: 1px solid #f59e0b; }
        .bg-low { background: #064e3b; color: #6ee7b7; border: 1px solid #10b981; }

    </style>
</head>
<body>

    <div class="header">
        <div class="title">YMC DFM æ™ºèƒ½å›¾çº¸å®¡æŸ¥ç³»ç»Ÿ</div>
        <div class="subtitle">è®¾è®¡ç¼ºé™·é›¶å®¹å¿ Â· å¼€æ¨¡å‰çš„æœ€åä¸€é“é˜²çº¿</div>
    </div>

    <!-- åŠ¨æ€è¯„åˆ†æ¿ -->
    <div class="score-board">
        <div>
            <div class="score-label">å½“å‰è®¾è®¡å¥åº·åˆ†</div>
            <div class="score-val risk-high" id="totalScore">0</div>
        </div>
        <div>
            <div class="score-label">å®¡æŸ¥ç»“è®º</div>
            <div class="status-badge bg-high" id="statusText">ğŸš« ç¦æ­¢å¼€æ¨¡</div>
        </div>
    </div>

    <!-- æ£€æŸ¥é¡¹åŒºåŸŸ -->
    <div id="checklistArea">
        <!-- ä¼šé€šè¿‡JSç”Ÿæˆ -->
    </div>

    <div class="footer">
        <button class="btn" id="submitBtn" onclick="generateReport()">ğŸ“‹ ç”Ÿæˆ DFM ç­¾ç½²æŠ¥å‘Š</button>
        <div style="margin-top:10px; font-size:12px; color:#64748b;">* åˆ†æ•° > 90 åˆ†ä¸”æ— è‡´å‘½ç¼ºé™·æ–¹å¯ç”ŸæˆæŠ¥å‘Š</div>
    </div>

    <script>
        // å®šä¹‰æ£€æŸ¥é¡¹ç›®åº“ (è¿™äº›æ˜¯æ¨¡å…·è¡Œä¸šè¡€çš„æ•™è®­)
        const checkPoints = [
            {
                category: "A. äº§å“èƒ¶ä½ä¸ç»“æ„ (Product Design)",
                items: [
                    { id: 1, text: "å…¨3Dæ‹”æ¨¡åˆ†æå·²é€šè¿‡", sub: "æ‰€æœ‰å‡ºæ¨¡é¢æ— å€’æ‰£(0åº¦)ï¼Œå’¬èŠ±é¢æ‹”æ¨¡ > 3åº¦", fatal: true, score: 20 },
                    { id: 2, text: "å£åšå‡åŒ€æ€§æ£€æŸ¥", sub: "æ— çªå˜èƒ¶ä½(é˜²æ­¢ç¼©æ°´)ï¼Œåšèƒ¶ä½å·²åšå·èƒ¶å¤„ç†", fatal: false, score: 10 },
                    { id: 3, text: "å°–è§’/è–„é’¢æ£€æŸ¥", sub: "æ— å°–è§’è–„é’¢(é˜²æ­¢å´©ç¼º)ï¼ŒRè§’è®¾è®¡åˆç†", fatal: false, score: 5 }
                ]
            },
            {
                category: "B. æ¨¡å…·ç»“æ„ä¸åŠ¨ä½œ (Mold Structure)",
                items: [
                    { id: 4, text: "æ»‘å—/æ–œé¡¶å¹²æ¶‰æ£€æŸ¥", sub: "è¿åŠ¨è¡Œç¨‹æ— å¹²æ¶‰ï¼Œé“²åŸºå¼ºåº¦è¶³å¤Ÿ", fatal: true, score: 20 },
                    { id: 5, text: "å†·å´æ°´è·¯è®¾è®¡", sub: "æ°´è·¯è¦†ç›–ç‡ > 60%ï¼Œä¸”æœªé€šè¿‡èºä¸å­”/é¡¶é’ˆå­”å®‰å…¨è·ç¦»", fatal: true, score: 15 },
                    { id: 6, text: "æ’æ°”ç³»ç»Ÿè§„åˆ’", sub: "å›°æ°”ä½/æµé“æœ«ç«¯å·²è®¾è®¡æ’æ°”æ§½", fatal: false, score: 10 }
                ]
            },
            {
                category: "C. åŠ å·¥ä¸è£…é… (Process & Assembly)",
                items: [
                    { id: 7, text: "æœ€å°åˆ€å…·åŠå¾„ç¡®è®¤", sub: "æ— æ·±çª„æ§½å¯¼è‡´æ— æ³•åŠ å·¥ï¼Œæ¸…è§’Rä½åˆç†", fatal: false, score: 10 },
                    { id: 8, text: "æ¨¡èƒšä¸é…ä»¶æ ‡å‡†", sub: "ä½¿ç”¨ YMC æ ‡å‡†æ¨¡èƒšåŠæ ‡å‡†ä»¶(DME/Hasco)", fatal: false, score: 10 }
                ]
            }
        ];

        let currentScore = 0;
        let hasFatalError = true; // é»˜è®¤æœ‰è‡´å‘½é”™è¯¯(å› ä¸ºæ²¡å‹¾)

        // åˆå§‹åŒ–é¡µé¢
        function init() {
            const container = document.getElementById('checklistArea');
            
            checkPoints.forEach(group => {
                const groupDiv = document.createElement('div');
                groupDiv.className = 'checklist-group';
                
                let html = `<div class="group-title">${group.category}</div>`;
                
                group.items.forEach(item => {
                    html += `
                        <div class="check-item" onclick="toggleItem(this, ${item.id}, ${item.score}, ${item.fatal})">
                            <div class="check-left">
                                <div class="custom-checkbox"></div>
                                <div>
                                    <div style="display:flex; align-items:center;">
                                        <span class="item-desc">${item.text}</span>
                                        ${item.fatal ? '<span class="fatal-tag">ğŸ’¥ è‡´å‘½é¡¹</span>' : ''}
                                    </div>
                                    <div class="item-sub">${item.sub}</div>
                                </div>
                            </div>
                            <div style="color:#64748b; font-weight:bold;">+${item.score}åˆ†</div>
                        </div>
                    `;
                });
                
                groupDiv.innerHTML = html;
                container.appendChild(groupDiv);
            });
        }

        // åˆ‡æ¢å‹¾é€‰çŠ¶æ€
        function toggleItem(el, id, score, isFatal) {
            el.classList.toggle('checked');
            const isChecked = el.classList.contains('checked');
            
            // è®¡ç®—åˆ†æ•°
            if (isChecked) {
                currentScore += score;
            } else {
                currentScore -= score;
            }

            updateStatus();
        }

        // æ›´æ–°å¤§ç›˜çŠ¶æ€
        function updateStatus() {
            const scoreEl = document.getElementById('totalScore');
            const statusBadge = document.getElementById('statusText');
            const btn = document.getElementById('submitBtn');

            // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰çš„â€œè‡´å‘½é¡¹â€éƒ½å‹¾é€‰äº†
            const allFatalChecked = document.querySelectorAll('.check-item:has(.fatal-tag):not(.checked)').length === 0;

            scoreEl.innerText = currentScore;

            // é€»è¾‘åˆ¤æ–­
            if (currentScore >= 90 && allFatalChecked) {
                // é€šè¿‡
                scoreEl.className = "score-val risk-low";
                statusBadge.className = "status-badge bg-low";
                statusBadge.innerText = "âœ… å…è®¸å¼€æ¨¡";
                btn.classList.add('active');
            } else if (currentScore < 60) {
                // é«˜å±
                scoreEl.className = "score-val risk-high";
                statusBadge.className = "status-badge bg-high";
                statusBadge.innerText = "ğŸš« ç¦æ­¢å¼€æ¨¡ (åˆ†ä½)";
                btn.classList.remove('active');
            } else {
                // è­¦å‘Š
                scoreEl.className = "score-val risk-mid";
                statusBadge.className = "status-badge bg-mid";
                statusBadge.innerText = (allFatalChecked ? "âš ï¸ é£é™©å¯æ§ (éœ€å¤å®¡)" : "ğŸš« è‡´å‘½é¡¹æœªè§£å†³");
                btn.classList.remove('active');
            }
        }

        function generateReport() {
            const date = new Date().toLocaleString();
            const report = `
ã€YMC DFM å®¡æŸ¥é€šè¿‡å•ã€‘
-------------------
å®¡æŸ¥æ—¶é—´: ${date}
è®¾è®¡è¯„åˆ†: ${currentScore} åˆ†
å®¡æŸ¥ç»“æœ: âœ… æ‰¹å‡†å¼€æ¨¡

å…³é”®æ£€æŸ¥:
- 3Dæ‹”æ¨¡: PASS
- å¹²æ¶‰æ£€æŸ¥: PASS
- æ°´è·¯è®¾è®¡: PASS

(è¯·æˆªå›¾æ­¤å‡­è¯å‘è‡³é¡¹ç›®ç¾¤)
            `;
            alert(report);
        }

        init();
    </script>
</body>
</html>