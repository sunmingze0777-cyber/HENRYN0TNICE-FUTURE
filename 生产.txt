<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>æ³¨å¡‘äº§èƒ½ä¸åˆ©æ¶¦æ•æ„Ÿåº¦åˆ†æ</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif; background-color: #f4f6f9; color: #333; padding: 20px; }
        .container { max-width: 800px; margin: 0 auto; background: white; padding: 30px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
        h2 { text-align: center; color: #2c3e50; border-bottom: 2px solid #eaeaea; padding-bottom: 10px; }
        
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        .card { background: #f8f9fa; padding: 15px; border-radius: 6px; border: 1px solid #e9ecef; }
        .card-title { font-weight: bold; margin-bottom: 10px; color: #555; display: block; }
        
        label { display: block; margin-bottom: 5px; font-size: 14px; color: #666; }
        input { width: 100%; padding: 8px; margin-bottom: 10px; border: 1px solid #ddd; border-radius: 4px; box-sizing: border-box; font-size: 16px; }
        
        .result-area { background-color: #e8f5e9; padding: 20px; border-radius: 6px; margin-top: 20px; }
        .result-row { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 16px; }
        .highlight { font-weight: bold; color: #2e7d32; font-size: 20px; }
        .loss { color: #d32f2f; font-weight: bold; }
        
        .btn { width: 100%; padding: 12px; background-color: #0056b3; color: white; border: none; border-radius: 4px; font-size: 16px; cursor: pointer; margin-top: 10px; }
        .btn:hover { background-color: #004494; }
    </style>
</head>
<body>

<div class="container">
    <h2>ğŸ­ æ³¨å¡‘ç”Ÿäº§æ•ˆç‡åˆ†æå™¨</h2>
    
    <div class="grid">
        <div class="card" style="border-left: 4px solid #0056b3;">
            <span class="card-title">æ ‡å‡†/æŠ¥ä»·å‚æ•° (KPI)</span>
            <label>æ¨¡å…·ç©´æ•° (Cavities)</label>
            <input type="number" id="stdCavity" value="4">
            <label>æ ‡å‡†æˆå‹å‘¨æœŸ (ç§’)</label>
            <input type="number" id="stdCycle" value="40">
            <label>è®¡åˆ’ç”Ÿäº§æ—¶é•¿ (å°æ—¶)</label>
            <input type="number" id="hours" value="22">
        </div>

        <div class="card" style="border-left: 4px solid #d32f2f;">
            <span class="card-title">è½¦é—´å®é™…å‚æ•° (Actual)</span>
            <label>å®é™…æˆå‹å‘¨æœŸ (ç§’)</label>
            <input type="number" id="actCycle" value="45">
            <label>äº§å“å•ä»· (å…ƒ/ä»¶)</label>
            <input type="number" id="price" value="2.5">
        </div>
    </div>

    <button class="btn" onclick="calculate()">è®¡ç®—å·®è·</button>

    <div class="result-area" id="resultBox" style="display:none;">
        <div class="result-row">
            <span>æ ‡å‡†æ—¥äº§èƒ½:</span>
            <span id="stdOutput">0</span>
        </div>
        <div class="result-row">
            <span>å®é™…æ—¥äº§èƒ½:</span>
            <span id="actOutput" style="color:#d32f2f">0</span>
        </div>
        <hr>
        <div class="result-row">
            <span>å°‘åšçš„æ•°é‡:</span>
            <span id="diffQty" class="loss">0</span>
        </div>
        <div class="result-row" style="font-size: 24px; margin-top: 10px;">
            <span>ğŸ“‰ å•æ—¥äº§å€¼æµå¤±:</span>
            <span id="moneyLoss" class="loss">0 å…ƒ</span>
        </div>
        <div style="text-align: center; margin-top: 15px; font-size: 14px; color: #666;">
            *å¦‚æœæŒ‰ç…§æ¯æœˆ 26 å¤©è®¡ç®—ï¼Œæœˆåº¦æµå¤±ï¼š<span id="monthLoss">0</span> å…ƒ
        </div>
    </div>
</div>

<script>
    function calculate() {
        // è·å–è¾“å…¥å€¼
        let stdCavity = Number(document.getElementById('stdCavity').value);
        let stdCycle = Number(document.getElementById('stdCycle').value);
        let hours = Number(document.getElementById('hours').value);
        
        let actCycle = Number(document.getElementById('actCycle').value);
        let price = Number(document.getElementById('price').value);

        // è®¡ç®—æ€»ç§’æ•°
        let totalSeconds = hours * 3600;

        // è®¡ç®—äº§èƒ½
        let stdOutput = Math.floor((totalSeconds / stdCycle) * stdCavity);
        let actOutput = Math.floor((totalSeconds / actCycle) * stdCavity);

        // è®¡ç®—å·®è·
        let diff = stdOutput - actOutput;
        let money = diff * price;
        let monthMoney = money * 26;

        // æ˜¾ç¤ºç»“æœ
        document.getElementById('stdOutput').innerText = stdOutput.toLocaleString() + " ä»¶";
        document.getElementById('actOutput').innerText = actOutput.toLocaleString() + " ä»¶";
        document.getElementById('diffQty').innerText = "-" + diff.toLocaleString() + " ä»¶";
        document.getElementById('moneyLoss').innerText = "-" + money.toLocaleString(undefined, {minimumFractionDigits: 2}) + " å…ƒ";
        document.getElementById('monthLoss').innerText = "-" + monthMoney.toLocaleString(undefined, {minimumFractionDigits: 2});

        document.getElementById('resultBox').style.display = 'block';
    }
</script>

</body>
</html>